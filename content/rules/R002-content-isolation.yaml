id: R002
name: "Content Folder Isolation"
version: "3.0.0"
priority: "critical"
category: "structure"
content: |
  ## Rule Statement
  
  All actual work MUST happen inside content/ folders. Project metadata (README.md, CLAUDE.md) MUST stay at project root. The content/ folder is ALWAYS tracked in git. Every content/ folder MUST contain a README.md explaining its contents. Every project MUST have a .untracked/ directory at the root (gitignored) for items that should not be tracked.
  
  ## Rationale
  
  This separation enables:
  - Clean separation of metadata from actual work
  - Consistent structure across all projects
  - Clear documentation of content purpose via content/README.md
  - Safe storage of untracked items via .untracked/
  - Simplified mental model (content always tracked, untracked items in dedicated location)
  
  ## Implementation
  
  1. Place all actual work in content/:
     - Source code
     - Documentation files
     - Assets and resources
     - Build outputs
     - Any project-specific files
  
  2. Keep only metadata at project root:
     - README.md (human documentation)
     - CLAUDE.md (AI context)
     - .claude/ folder (Claude Desktop settings)
     - projects/ folder (for sub-projects)
     - .untracked/ folder (for untracked items)
  
  3. Required in every content/ folder:
     - README.md explaining what's in this content folder
  
  4. Required in .untracked/ directory:
     - repos/ - External git repositories
     - local/ - Local operational files including:
       - TASKS.md - Project task list
       - BRANCH_REGISTRY.yaml - Active branch tracking
       - Machine-specific configurations
  
  5. Content is ALWAYS tracked:
     - No more "Track Content" metadata option
     - Use .gitignore patterns for build artifacts
     - Use git LFS for large binary files if needed
  
  ## Examples
  
  ### Code Project
  ```
  my-web-app/
  ├── README.md          # Project documentation
  ├── CLAUDE.md          # AI instructions
  ├── .untracked/        # Untracked items (gitignored)
  │   ├── repos/         # External dependencies
  │   └── local/         # Local operational files
  │       ├── TASKS.md   # Project tasks
  │       └── BRANCH_REGISTRY.yaml
  ├── content/           # All work happens here (tracked)
  │   ├── README.md      # Explains this is a React web app
  │   ├── .gitignore     # Includes node_modules/, dist/
  │   ├── package.json
  │   ├── src/
  │   └── public/
  └── projects/          # Sub-projects if any
  ```
  
  ### Writing Project
  ```
  my-novel/
  ├── README.md          # Project documentation
  ├── CLAUDE.md          # AI instructions
  ├── .untracked/        # Untracked items (gitignored)
  │   ├── repos/         # Research repositories
  │   └── local/         # Local operational files
  │       ├── TASKS.md   # Writing tasks
  │       └── notes.md   # Personal notes
  ├── content/           # All work happens here (tracked)
  │   ├── README.md      # Explains novel structure & progress
  │   ├── .gitignore     # Includes *.tmp, *.bak
  │   ├── chapters/
  │   ├── notes/
  │   └── outline.md
  └── projects/          # Sub-projects if any
  ```
  
  ### Incorrect
  ```
  my-web-app/
  ├── README.md          # OK
  ├── package.json       # Wrong: should be in content/
  ├── src/               # Wrong: should be in content/
  ├── .untracked/        # OK but...
  │   └── TASKS.md       # Wrong: should be in local/TASKS.md
  └── content/           # Missing README.md
  ```
  
  ## Verification
  
  To verify this rule is being followed:
  - [ ] All code/documents are in content/ folder
  - [ ] Only metadata files at project root
  - [ ] content/README.md exists and explains contents
  - [ ] .untracked/ directory exists at project root
  - [ ] .untracked/repos/ and .untracked/local/ directories exist
  - [ ] TASKS.md is in .untracked/local/ not directly in .untracked/
  - [ ] Project .gitignore includes `.untracked/`
  - [ ] No project files at root level
  
references:
  - "R001"  # Project structure
  - "R005"  # Workspace as project
  - "T002"  # README template
  - "T009"  # Content README template
  
exceptions:
  - "None - all projects must follow this structure"